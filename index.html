<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Cabify Coding Exercise</title>
</head>
<body>
  <script src="checkout_class.js" charset="utf-8"></script>
  <script type="text/javascript">

  /*
  We create this pricing_rules object( the same as the Checkout class ).
  The structure of the every pricing rule object is:
  {
    action:{
      type: discount || change_price,
      discount: >0
    },
    min_num_items: >=0 ,
    condition:"even_quantity", [optional_field]
    item_code: has to be the same as the code of one of the products in the product cart.
  }
  */
  const pricing_rules=[
    {
      action:{
        type:"discount",
        discount:0.5
      },
      min_num_items:2,
      condition:"even_quantity",
      item_code:"VOUCHER"
    },
    {
      action:{
        type:"change_price",
        new_price:19
      },
      min_num_items:3,
      item_code:"TSHIRT"
    }
  ];

  let co = new Checkout(pricing_rules);
  // co.scan("VOUCHER").scan("TSHIRT").scan("MUG");
  // co.scan("TSHIRT").scan("TSHIRT").scan("TSHIRT").scan("VOUCHER").scan("TSHIRT");
  // co.scan("VOUCHER").scan("TSHIRT").scan("VOUCHER");
  co.scan("VOUCHER").scan("TSHIRT").scan("VOUCHER").scan("VOUCHER").scan("MUG").scan("TSHIRT").scan("TSHIRT");
  let price = co.total();
  </script>
</body>
</html>
